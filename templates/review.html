{% extends "base.html" %}
{% block title %} Reviews - Movie Reviews{% endblock %}
{% block content %}

<h2>{{ heading }}</h2>
<hr>
<p style="margin-bottom: 4px;">What did you think of it?</p>
<form action="{{ url_for('add_review', id=item) }}" method="post" class="ui form">
    <p class="formtxt">Select a star rating here</p>
    <div class="my-rating">
        <input type="radio" name="stars" id="star5" value="5" required="required"><label for="star5">★</label>
        <input type="radio" name="stars" id="star4" value="4"><label for="star4">★</label>
        <input type="radio" name="stars" id="star3" value="3"><label for="star3">★</label>
        <input type="radio" name="stars" id="star2" value="2"><label for="star2">★</label>
        <input type="radio" name="stars" id="star1" value="1"><label for="star1">★</label>
    </div>
    <div class="field">
        <p class="formtxt">Discussion</p>
        <textarea name="comment" placeholder="Comment" style="height: 100px;"></textarea>
    </div>
    <button type="submit">Add Review</button>
</form>
<hr>
<h3>Critics Reviews</h3>
<ul>
    {% for column in main %}
        <li class="item" style="display: flex; flex-direction: column; gap: 5px; background-color: white;">
            <div style="display: flex; align-items: center; gap: 10px;">
                <div class="ui label" style="background-color: rgb(226, 235, 236)">
                    <i class="user icon" style="color: black;"></i> {{ column[1] }}
                    <p style="color: rgb(110, 109, 98); font-size: 1.2em; padding: 0; margin: 0;">
                        {{ '★' * (column[2] | int) }}{{ '☆' * (5 - (column[2] | int)) }}
                    </p>
                </div>
                <p style="margin: 0; color: grey;">{{ column[5][:-3] }}</p>
                
            </div>
            <div class="content">
                <p>{{ column[3] }}</p>
            </div>
         </li>         
    {% endfor %}
</ul>
{% endblock %}
